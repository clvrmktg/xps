mixin preview(src)
  link(rel='preload' as='image' href=`https://${cloud}.twic.pics/uploads/${src}.jpg?twic=v1/output=preview`)

mixin img(src, classes, alt)
 figure(class=(classes ? classes : false))&attributes(attributes)
  style.
    figure {
      background-image: url('https://#{cloud}.twic.pics/uploads/#{src}.jpg?twic=v1/output=preview');
    }

  img(data-twic-src=`image:uploads/${src}.jpg` data-twic-preview=`image:uploads/${src}.jpg` data-twic-focus='auto' alt=(alt ? alt : '') image)

  noscript
    img(class='[ script ]' src=`https://${cloud}.twic.pics/uploads/${src}.jpg?twic=v1/output=preview`)

  if block
    figcaption 
      block

mixin bg(src, classes, helpers)

  div(class=`${classes}[ bg ${helpers ? helpers : ''} ]` data-twic-background=`image:uploads/${src}.jpg`)

    style.
     .bg {
      background-image: url('https://#{cloud}.twic.pics/uploads/#{src}.jpg?twic=v1/output=preview');
     }

    if block
      block


mixin script(filename, deps, load)

  if pro
    script(src!=`/scripts/${filename}-version.min.js` async=(load === 'async' ? '' : false) defer=(( load === 'defer') ? '' : false ))&attributes(attributes)

  else if deps
    script(src=`/scripts/${filename}.deps.js` async=( load === 'async' ? '' : false) defer=(( load === 'defer') ? '' : false ))&attributes(attributes)

  else if deps === files
    script(src=`/scripts/${filename}.deps.js` async=( load === 'async' ? '' : false) defer=(( load === 'defer') ? '' : false ))&attributes(attributes)
    script(src=`/scripts/${filename}.build.js` async=( load === 'async' ? '' : false) defer=(( load === 'defer') ? '' : false ))&attributes(attributes)

  else
    script(src=`/scripts/${filename}.build.js` async=( load === 'async' ? '' : false) defer=(( load === 'defer') ? '' : false ))&attributes(attributes)

mixin font(name)
  link(rel='preload', href=`/fonts/${name}.woff2`, as='font', type='font/woff2', crossorigin)

mixin code(type)
  div(class="[ pt--050 mb--050 ]")
    pre(class=` language-${type}  [ px--1 pb--2 ]`)
      code(class=` language-${type}  [ pt--2 ]`)
        block

mixin a(link, text)
  a(href=link target='_blank' rel='noopener')&attributes(attributes)= text

mixin input(label, name, type, required, placeholder)    
  div(class='[ form__field ][ grid gr--0.5 ]' x-data='{value: ""}')
    label(class=`[ form__label ][ font--500 font--600 ]` for=name)= label
      if required
        abbr(class='[ required ]' title='This field is required' aria-label='This field is required') *
    input(name=name id=name class='[ form__input ][ p--0.5 ]' type=type, placeholder=(placeholder ? placeholder : false) required=( required === true ? '' : false)  :class='{"has-value": value.length > 0 }' x-model="value" )&attributes(attributes)

mixin textarea(label, name, required, placeholder)    
  div(class='[ form__field ][ grid gr--0.5 ]' x-data='{value: ""}')
    label(class=`[ form__label ][ font--500 font--600 ]` for=name)= label
      if required
        abbr(class='[ required ]' title='This field is required' aria-label='This field is required') *
    textarea(name=name id=name class='[ form__message ][ p--0.5 ]' placeholder=(placeholder ? placeholder : false) required=( required === true ? '' : false)  :class='{"has-value": value.length > 0 }' x-model="value" )&attributes(attributes)

mixin radio(name, id, value, checked)
  input(name=name id=id type='radio' value=value checked=( checked === 'checked' ? '' : false))&attributes(attributes)

mixin island(id)
  select(name=id id=id class='[ form__input ]')&attributes(attributes)
    option(value='no' disabled selected) Select Island
    option(value='New Providence') New Providence
    option(value='Grand Bahama') Grand Bahama
    option(value='Abaco') Abaco
    option(value='Acklins') Acklins
    option(value='Andros') Andros
    option(value='Berry Islands') Berry Islands
    option(value='Bimini') Bimini
    option(value='Cat Island') Cat Island
    option(value='Crooked Island') Crooked Island
    option(value='Eleuthera') Eleuthera
    option(value='Exuma') Exuma
    option(value='Inagua') Inagua
    option(value='Long Island') Long Island
    option(value='Mayaguana') Mayaguana
    option(value='Ragged Island') Ragged Island
    option(value='Rum Cay') Rum Cay
    option(value='San Salvador') San Salvador


//- Font Awesome

mixin icon(name, size)
  i(class=`[ fa-solid fa-${name} ] [ font--${size} ]`)